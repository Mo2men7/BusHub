<div class="container text-center  mt-4 mb-4" style="height: 80%">
  <div class="text-center my-4">
    <button
      type="button"
      class="btn add-button"
      class="btn add-button"
      data-bs-toggle="modal"
      data-bs-target="#exampleModal"
    >
      Add New Destination
    </button>
  </div>
  <div class="d-flex  justify-content-between overflow-hidden"  style="height: 500px"
  >
    <div
      class="accordion accordion-flush col-5  overflow-y-auto
      
      "
      id="accordionFlushExample"
      style="height: 80%"

    >
      @for (item of destinations; track $index) {
      <div class="accordion-item bg-transparent">
        <h2 class="accordion-header ">
          <button
            (click)="showMap($index)"
            class="accordion-button collapsed bg-transparent"
            type="button"
            data-bs-toggle="collapse"
            [attr.data-bs-target]="'#acc' + $index + 1"
            aria-expanded="false"
            aria-controls="flush-collapseOne"
          >
            {{ item.name }}
          </button>
        </h2>
        <div
          id="{{ 'acc' + $index + 1 }}"
          class="accordion-collapse collapse "
          data-bs-parent="#accordionFlushExample"
        >
          <div class="accordion-body  " >
            <div class="card text-bg-dark border border-0 ">
              <img src="{{ item.pic }}" class="card-img" alt="..." />
              <div class="card-img-overlay bg-black cardBackground ">
                <!-- <h5 class="card-title">Card title</h5> -->
                <div class="card-text text-start" >
                  <p class="fs-7">{{ item.info }} <a
                    href="#"
                    data-bs-toggle="modal"
                    [attr.data-bs-target]="'#map' + $index + 1"
                  >
                    <i class="fa-solid fa-arrow-up-right-from-square"></i>
                  </a></p>
                  
                </div>

                <!-- <p class="card-text"><small>Last updated 3 mins ago</small></p> -->
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        class="modal fade"
        
        id="{{ 'map' + $index + 1 }}"
        tabindex="-1"
        [attr.aria-labelledby]="$index + 1 + 'Label'"
        aria-hidden="true"
        style="
            
              height: 90%;"
      >
        <div
          class="modal-dialog modal-dialog-centered"
          style="
            
              height: 50%;"
        >
          <iframe
            class="modal-content"
            [src]="item.map | safe"
            style="
              border: 0;
              height: 100%;
              width: 100%;
              filter: grayscale(70%) contrast(100%);
            "
            style="
              border: 0;
              height: 100%;
              width: 100%;
              filter: grayscale(70%) contrast(100%);
            "
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>
      }
    </div>
    <div id="iframeDiv" class="ratio ratio-16x9 fade active show"  style="height: 80%; width: 55%;">
      <iframe
        style="filter: grayscale(70%) contrast(100%)"
        src=""
        title="Google Maps"
        allowfullscreen
        
      ></iframe>
      <!-- <img
        style="filter: grayscale(100%) contrast(100%)"
        src="../../../assets/admin/pics/wired-flat-18-location-pin (1).gif"
        alt=""
        srcset=""
        style="height: 200px; width: 200px; margin-left: 50%; margin-top: 20%"
      /> -->
      <div id="lord">
        <lord-icon
          src="https://cdn.lordicon.com/tdtlrbly.json"
          trigger="loop"
          delay="500"
          stroke="light"

          colors="primary:#ffffff,secondary:#0587eb"
          style="height: 75%; width: 55%; margin-top: 10%"
        >
        </lord-icon>
      </div>
      <!-- <div class=" showOnLoading" > -->
      <!-- <i class="fa-solid fa-globe fa-fade" style="font-size: 20vw;"></i> -->
      <!-- <i class="fa-solid fa-location-dot" ></i> -->
      <!-- </div> -->
    </div>
  </div>

  <form
    #adddest="ngForm"
    (ngSubmit)="sendDestination(adddest)"
    class="modal fade "
    id="exampleModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
    enctype="multipart/form-data"
    
  >
    <div class="modal-dialog modal-dialog-scrollable ">
      <div class="modal-content ">
        <div class="modal-header d-flex justify-content-between">
          <h1 class="modal-title fs-5" id="exampleModalLabel">
            Add New Destination
          </h1>
          <button
            type="button"
            class="btn fa-solid fa-xmark fs-2"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <div class="form-floating mb-4">
            <input
              ngModel
              #name="ngModel"
              type="text"
              class="form-control"
              id="name"
              placeholder="Name"
              name="name"
            />
            <label for="name">Name</label>
          </div>
          <div class="form-floating mb-4">
            <textarea
              ngModel
              #info="ngModel"
              class="form-control"
              id="info"
              placeholder="Info."
              name="info"
            ></textarea>
            <label for="info">Info.</label>
          </div>
          <div class="form-floating mb-4">
            <input
              ngModel
              #flag="ngModel"
              type="text"
              class="form-control"
              id="flag"
              placeholder="Flag Link"
              name="flag"
            />
            <label for="flag">Flag Link</label>
          </div>
          <div class="form-floating mb-4">
            <input
              ngModel
              #pic="ngModel"
              type="text"
              class="form-control"
              id="pic"
              placeholder="Picture Link"
              name="pic"
            />
            <label for="pic">Picture Link</label>
          </div>
          <div class="form-floating mb-4 d-flex align-items-baseline">
            <input
              ngModel
              #map="ngModel"
              type="text"
              class="form-control"
              id="map"
              placeholder="Location in Google Maps"
              name="map"
            />
            <label for="map">Location in Google Maps</label>
            <a
              href="https://www.google.com/maps"
              target="_blank"
              class="btn add-button ms-2"
              class="btn add-button ms-2"
              ><i class="fa-solid fa-arrow-up-right-from-square"></i
            ></a>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn "
            data-bs-dismiss="modal"
          >
            Cancel
          </button>
          <button type="submit" class="btn add-button" data-bs-dismiss="modal">
            Add
          </button>
        </div>
      </div>
    </div>
  </form>
</div>
